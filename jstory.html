<html>
<head>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="port.css" type="text/css">
<meta charset="UTF-8">
<title>JS Story</title>
<style>
    html{
        overflow: hidden;
    }
    #container{
        position: absolute;
        top: 95px;
        bottom: 0px;
        left: 0px;
        right: 0px;
        /*background: black;*/
    }
    #leftpane{
        width: 56%;
        height: 100%;
        float: left;
        background: black;
    }
    #rightpane{
        width: 44%;
        height: 100%;
        float: left;
        background: black;
    }
    #buttons{
        position: absolute;
        bottom: 0px;
        left: 56%;
        right: 0px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-image: url("gameassets/buttonbg.png");
        /*background: lime;*/
    }
    #storytext{
        position: absolute;
        left: 56%;
        right: 0px;
        height: 100%;
        /* background: salmon; */
    }
    .btn{
        margin: 30px;
    }
    #graphic{
        max-height: 100%;
        max-width: 100%;
        width: 100%;
    }
    #text{
        font-size: 32px;
        color: gold;
    }
    #hp{
        font-size: 24px;
        color: gold;
        position: absolute;
        bottom: 6%;
    }
    #cash{
        font-size: 24px;
        color: gold;
        position: absolute;
        left: 20%;
        bottom: 6%;
    }
    #startgame{
        color: gold;
    }
</style>
</head>
<body>
<header>
    <div class="row">
    <h1 class="col-sm-3 text-center">Juan Marquez</h1>
    <div class="col-sm-2"></div>
    <nav class="col-sm-7 pull-right">
        <ul class="nav nav-pills text-right">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="aboutme.html">About Me</a></li>
            <li class="nav-item"><a class="nav-link" href="resume.html">Resume</a></li>
            <li class="nav-item"><a class="nav-link" href="project.html">App Project</a></li>
            <li class="nav-item"><a class="nav-link" href="hoodheim.html">Text Adventure Project</a></li>
            <li class="nav-item"><a class="nav-link active" href="jstory.html">Javascript Story</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact Me</a></li>
        </ul>
    </nav>
    </div>
</header>
<div id=container>
    <div id="leftpane">
        <img src="gameassets/bgalpha.png" id="graphic">
    </div>
    <div id="rightpane">
        <div id="storytext">
            <h1 id="startgame" onclick=intro()>Click to start game.</h1>
            <p id="text"></p>
            <p id="hp"></p>
            <p id="cash"></p>
        </div>
        <div id="buttons">
            <button id="b1" type="button" class="btn btn-secondary" onclick=buttonclick(1)></button>
            <button id="b2" type="button" class="btn btn-secondary" onclick=buttonclick(2)></button>
            <button id="b3" type="button" class="btn btn-secondary" onclick=buttonclick(3)></button>
            <button id="b4" type="button" class="btn btn-secondary" onclick=buttonclick(4)></button>
            <button id="b5" type="button" class="btn btn-secondary" onclick=buttonclick(5)></button>
        </div>
        
    </div>
</div>
<script>
    
    var level = 0;
    var graphic = document.getElementById('graphic');
    var text = document.getElementById('text');
    var b1 = document.getElementById('b1');
    var b2 = document.getElementById('b2');
    var b3 = document.getElementById('b3');
    var b4 = document.getElementById('b4');
    var b5 = document.getElementById('b5');
    var hp = 3;
    var ogText;
    var shopKeep = 3;
    var money;
    
    b1.style.display = 'none';
    b2.style.display = 'none';
    b3.style.display = 'none';
    b4.style.display = 'none';
    b5.style.display = 'none';
    
    graphic.style.display = 'none';
    
    
    
    function shop(){
        text.innerHTML = 'Welcome to the shop! You can buy armor for 40, a bludgeoner for 100, or a fortune scroll for 20.';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'block';
        b4.style.display = 'block';
        b1.className = 'btn btn-secondary';
        b2.className = 'btn btn-secondary';
        b3.className = 'btn btn-dark';
        b4.className = 'btn btn-secondary';
        b1.innerHTML = 'Armor';
        b2.innerHTML = 'Bludgeoner';
        b3.innerHTML = 'Out of Stock';
        b4.innerHTML = 'Go Back';
        level = 500;
    }
    
    function intro(){
        graphic.style.display = 'block';
        graphic.src = 'gameassets/bgalpha.png';
        text.innerHTML = 'Welcome to Hoodheim.';
        document.getElementById('startgame').style.display = 'none';
        b1.style.display = 'block';
        b1.innerHTML = 'Hello';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'none';
        money = 20;
        hpCheck();
        moneyCheck();
    }
    
    function intro2(){
        graphic.src = 'gameassets/bg2.png';
        text.innerHTML = 'Finnmark Norway, July 8, 1233, 4:56 pm, You are Punctor Yengren, the only black Nord, and also an expert in every known martial art. Oh, also you invented the English language.';
        b1.innerHTML = 'Ok';
        b1.style.display = 'block';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
    }
    
    function intro3(){
        graphic.src = 'gameassets/bg3.png';
        text.innerHTML = 'Punctor\'s mama is named Luna. Hello mama Luna!\n Well mama don\'t like no lazies. She wants you to get out and get a job. \n Where do you wanna go?';
        b1.innerHTML = 'Get a job.';
        b2.innerHTML = 'Pick a fight around town.';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b1.className = 'btn btn-secondary'; 
        b2.className = 'btn btn-secondary'; 
    }
    
    function gameOver(){
        text.innerHTML = 'You fought hard but lost regardless, come back with more training!';
        graphic.src = 'gameassets/gameOver2.png';
        b5.innerHTML = 'Start Over';
        b1.style.display = 'none';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'block';
        hp = 3;
        level = 99;
    }
    
    function gameOver1(){
        text.innerHTML = 'Mama Luna is proud of your work at MacDougals, the local beef shop. You think this will be big someday.';
        graphic.src = 'gameassets/gameOver1.png';
        b5.innerHTML = 'Start Over';
        b1.style.display = 'none';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'block';
        hp = 3;
        level = 97;
    }
    
    function gameOver2(){
        text.innerHTML = 'The old man blocked your pathetic, malinformed punch and countered with the force of 1000 suns.';
        graphic.src = 'gameassets/gameOver2.png';
        b5.innerHTML = 'Start Over';
        b1.style.display = 'none';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'block';
        hp = 3;
        level = 98;
    }
    
    function gameOver3(){
        text.innerHTML = 'You blocked... This is not the life for you. The man stabs you with his cane and you black out forever.';
        graphic.src = 'gameassets/gameOver2.png';
        b5.innerHTML = 'Start Over';
        b1.style.display = 'none';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'block';
        hp = 3;
        level = 99;
    }
    
    function gameOver4(){
        text.innerHTML = 'You are a hero amongst your people as no one really liked the mysterious handicapped aristocrat. You advance towards your fate as you decide your combat skills need to be further proven.';
        graphic.src = 'gameassets/endgame.png';
        b1.innerHTML = 'Continue';
        b1.style.display = 'block';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b5.style.display = 'none';
        hp = 3;
        level = 9;
    }
    
    function fightIntro(){
        graphic.src = 'gameassets/fIntro.png';
        text.innerHTML = 'You approach a store and the owner appears very wealthy and decrepit. Do you change your mind or throw the first punch?';
        b1.innerHTML = 'Go back';
        b2.innerHTML = 'Enter battle stance';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'none';
        b4.style.display = 'none';
    }
    
    function fight1(){
        graphic.src = 'gameassets/fIntro.png';
        text.innerHTML = 'Not letting your guard down, you decide to beat the frail elder. No matter, we\'ll remind you how to brawl it out even if your target is a defenseless old man! He seems to be putting his arms up. If an opponent is doing this, go for a kick!';
        b1.innerHTML = 'Punch';
        b2.innerHTML = 'Kick';
        b3.innerHTML = 'High Block';
        b4.innerHTML = 'Low Block';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'none';
        b4.style.display = 'none';
        b1.className = 'btn btn-dark';
    }
    
    function fight2(){
        graphic.src = 'gameassets/fIntro.png';
        text.innerHTML = 'Yea, just like that! He is still keeping his hands up. Perhaps he is going for a jab, the mad lad. You could block it. Since he\'s going for a high jab, try a high block';
        b1.innerHTML = 'Punch';
        b2.innerHTML = 'Kick';
        b3.innerHTML = 'High Block';
        b4.innerHTML = 'Low Block';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'block';
        b4.style.display = 'block';
        b3.className = 'btn btn-secondary';
        b4.className = 'btn btn-dark';
        b1.className = 'btn btn-dark'; 
        b2.className = 'btn btn-dark'; 
    }
    
    function fight3(){
        graphic.src = 'gameassets/fIntro.png';
        text.innerHTML = 'The old man goes for it. Nice block champ you\'re really remembering fast. Everyone is crowding around awaiting your next move as the old man takes a step back. Perhaps he is preparing for a kick?';
        b1.innerHTML = 'Punch';
        b2.innerHTML = 'Kick';
        b3.innerHTML = 'High Block';
        b4.innerHTML = 'Low Block';
        b1.style.display = 'block';
        b2.style.display = 'block';
        b3.style.display = 'block';
        b4.style.display = 'block';
        b4.className = 'btn btn-secondary';
        b1.className = 'btn btn-secondary'; 
        b3.className = 'btn btn-secondary';
        b2.className = 'btn btn-secondary';
    }
    
    function fightEnd(){
        graphic.src = 'gameassets/fIntro.png';
        text.innerHTML = 'The crippled man doesn\'t seem to want to continue fighting, go for the final blow and bring honor to your village!';
        b3.className = 'btn btn-dark';
        b4.className = 'btn btn-dark';
    }
    
    function fightVictory(){
        graphic.src = 'gameassets/deadguy.png';
        text.innerHTML = 'You struck the man with a mighty blow and he dropped like a fly. The pathetic old man is no more and you are now on the path to becoming a TRUE WARRIOR!';
        b1.innerHTML = 'Continue';
        b2.style.display = 'none';
        b3.style.display = 'none';
        b4.style.display = 'none';
    }
    
    function crossroads(stage){
        text.innerHTML = 'Where would you like to go?';
        if (stage == 1){
            b1.style.display = 'block';
            b2.style.display = 'block';
            b3.style.display = 'none';
            b4.style.display = 'none';
            b1.innerHTML = 'Advance to the next challenge';
            b2.innerHTML = 'Shop';
            level = 10;
        }
    }
    function hpCheck(){
        document.getElementById('hp').innerHTML = 'HP: ' + hp;
        if (hp <= 0){
            gameOver();
        }
        if (level == 99){
            document.getElementById('hp').innerHTML = 'HP: 0';
        } else if (level == 98){
            document.getElementById('hp').innerHTML = 'HP: -1000';
        }
    }
    function moneyCheck(){
        document.getElementById('cash').innerHTML = 'Money: ' + money;
    }
    function shopCheck(){
        text.innerHTML = 'Welcome to the shop! You can buy armor for 40, a bludgeoner for 100, or a fortune scroll for 20.';
        if (shopKeep == 3){
            ogText = text.innerHTML;
            text.innerHTML = ogText + ' You can\'t afford that!';
            shopKeep = shopKeep - 1;
        } else if (shopKeep == 2){
            text.innerHTML = ogText + ' What do you take me for, a fool? Buy something or I\'ll make you leave!';
            shopKeep = shopKeep - 1;
        } else if (shopKeep == 1){
            text.innerHTML = 'Get the hell out of my store!';
            b2.style.display = 'none';
            b3.style.display = 'none';
            b1.style.display = 'none';
        } else if (shopKeep == 4){
            ogText = text.innerHTML;
            text.innerHTML = ogText + ' Thank you for your purchase!';
            shopKeep = 3;
        }
    }
    function wrongMove(){
        if (hp == 3){
            ogText = text.innerHTML;
            text.innerHTML = text.innerHTML + ' Nope! He counters.';
        } else if (hp == 2){
            text.innerHTML = ogText + ' Wrong move, He counters once more! You\'re badly hurt, be careful!';
        }
        hp = hp - 1;
    }
    function incrementMoney(){
            money = money + 20;
    }
    
    function buttonclick(button){
        if (level == 0){
            if (button == 1){
                intro2();
                level = 1;
            }
        } else if (level == 500){
            if (button == 1){
                if (money < 40){
                    shopCheck();
                } else {
                    shopKeep = 4;
                    hp = hp + 1;
                    money = money - 40;
                    shopCheck();
                }
            } else if (button == 2){
                if (money < 100){
                    shopCheck();
                } else {
                    /*Add a button that one shots a fight*/
                }
            } else if (button == 3){
                if (money < 20){
                    shopCheck();
                } else {
                    /*Add a button that reveals the right move in a fight*/
                }
            } else if (button == 4){
                crossroads(1);
            }
        } else if (level == 97){
            if (button == 5){
                level = 0;
                intro();
            }
        } else if (level == 98){
            if (button == 5){
                level = 0;
                intro();
            }   
        } else if (level == 99){
            if (button == 5){
                level = 0;
                intro();
            }
        } else if (level == 1){
            if (button == 1){
                intro3();
                level = 2;
            }
        
        } else if (level == 2){
            if (button == 1){
                gameOver1();
            } else if (button == 2){
                fightIntro();
                level = 3;
            } 
        } else if (level == 3){
            if (button == 1){
                intro3();
                level = 2;
            } else if (button == 2){
                fight1();
                level = 4;
            }
        } else if (level == 4){
            if (button == 1){
                gameOver2();
            } else if (button ==2){
                fight2();
                level = 5;
            }
        } else if (level == 5){
            if (button == 3){
                fight3();
                level = 6;
            }
        } else if (level == 6){
            if (button == 4){
                fightEnd();
                level = 7;
            } else {
                wrongMove();
            }
        } else if (level == 7){
            if (button == 3){
                gameOver3();
            } else if (button == 4){
                gameOver3();
            } else {
                fightVictory();
                incrementMoney();
                level = 8;
            }
        } else if (level == 8){
            if (button == 1){
                gameOver4();
            }
        } else if (level == 9){
            if (button == 1){
                crossroads(1);
            }
        } else if (level == 10){
            if (button == 1){
                /*secFight1();*/
            } else if (button == 2){
                shop();
            }
        }
         hpCheck();
         moneyCheck();
    }
</script>
</body>
</html>